# Tooltip

An accessible tooltip component. The tooltip is displayed on hover and focus, and is hidden when the
cursor leaves the trigger or tooltip, the trigger loses focus or the trigger is clicked. It can also
be closed with the Escape key.

On touch devices, a click on the trigger element will show the tooltip, while a blur event (usually
when a user taps outside of the trigger or tooltip) will hide it. The normal click behavior of the
trigger element (ex: a navigation if the trigger is a link) will be available with a double-tap. You
can disable this altogether with the `disableOnTouch` prop.

The tooltip will not work if javascript is disabled on the page.

NOTE: A tooltip is meant to be a very simple, brief, non-interactive and non-essential label or
description of an element. If you need to display essential content, consider showing it without
needing an interaction. If you need interactive elements in the content, consider using a
[Popover](../ui-components/popover.md) or a [Modal](../ui-components/modal.md).

**Main component:** `Tooltip.svelte`

## Props

-   `type` (`'label' | 'description'`): This option will determine if the trigger is using
    `aria-labelledby` (if `type` is `'label'`) or `aria-describedby` (if `type` is `'description'`).
    A label will override any text content found in the trigger element when read by assistive
    technologies, and can be useful for icon links or buttons. A description will be read by
    assistive technologies after the trigger element's text is read, and is useful for help tips or
    definitions. DEFAULT: `'description'`.
-   `position` (`'top' | 'left' | 'bottom' | 'right'`): The position of the tooltip relative to the
    trigger element. DEFAULT: `'top'`.
-   `offset` (`MultiplesOfFour` in rems): The offset of the tooltip relative to the trigger element.
    DEFAULT: `null`.
-   `boundsOffset` (`MultiplesOfFour` in rems): By default, the component will make sure the tooltip
    does not get out of the document bounds. If this happens, the tooltip will be brought back right
    on the overflowing bound, but you can add spacing between the document bound and the tooltip
    with this prop.
-   `id` (`string`): The id used to identify the tooltip for assistive techonologies. It is
    auto-generated by default, but you can override it. DEFAULT: auto-generated.
-   `disableOnTouch` (`boolean`): Disables the tooltip on touch devices.

## Slots

### Default

The default slot for the trigger element.

Slot props:

-   readonly `registerTrigger` (`() => void`): A
    [Svelte action](https://svelte.dev/docs#template-syntax-element-directives-use-action) to tell
    the component what element represents the trigger. If not used, the tooltip will not work.

### Tooltip

The slot of the tooltip panel, where you can put your content.

Name: "tooltip"

## Example usage

NOTE: You should avoid using block elements like paragraphs and headings because a tooltip is often
placed inside of phrasing content. Moreover, the semantics of those elements will not be picked up
by assistive technologies, so they are basically useless here. Again, for important content, do not
use a tooltip.

```svelte
<script lang="ts">
	import Tooltip from '$lib/components/ui/Tooltip.svelte';
</script>

<Tooltip let:registerTrigger offset="12" boundsOffset="24">
	<a href="/my-complicated-word-definition" use:registerTrigger>My complex word</a>
	<span slot="tooltip">My complex definition excerpt.</span>
</Tooltip>
```

## References

-   https://sarahmhigley.com/writing/tooltips-in-wcag-21/
-   https://github.com/scottaohara/a11y_tooltips
